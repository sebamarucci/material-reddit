(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{273:function(e,t,a){a(274),e.exports=a(421)},279:function(e,t,a){},343:function(e,t,a){},346:function(e,t,a){var n={"./af":117,"./af.js":117,"./ar":118,"./ar-dz":119,"./ar-dz.js":119,"./ar-kw":120,"./ar-kw.js":120,"./ar-ly":121,"./ar-ly.js":121,"./ar-ma":122,"./ar-ma.js":122,"./ar-sa":123,"./ar-sa.js":123,"./ar-tn":124,"./ar-tn.js":124,"./ar.js":118,"./az":125,"./az.js":125,"./be":126,"./be.js":126,"./bg":127,"./bg.js":127,"./bm":128,"./bm.js":128,"./bn":129,"./bn.js":129,"./bo":130,"./bo.js":130,"./br":131,"./br.js":131,"./bs":132,"./bs.js":132,"./ca":133,"./ca.js":133,"./cs":134,"./cs.js":134,"./cv":135,"./cv.js":135,"./cy":136,"./cy.js":136,"./da":137,"./da.js":137,"./de":138,"./de-at":139,"./de-at.js":139,"./de-ch":140,"./de-ch.js":140,"./de.js":138,"./dv":141,"./dv.js":141,"./el":142,"./el.js":142,"./en-SG":143,"./en-SG.js":143,"./en-au":144,"./en-au.js":144,"./en-ca":145,"./en-ca.js":145,"./en-gb":146,"./en-gb.js":146,"./en-ie":147,"./en-ie.js":147,"./en-il":148,"./en-il.js":148,"./en-nz":149,"./en-nz.js":149,"./eo":150,"./eo.js":150,"./es":151,"./es-do":152,"./es-do.js":152,"./es-us":153,"./es-us.js":153,"./es.js":151,"./et":154,"./et.js":154,"./eu":155,"./eu.js":155,"./fa":156,"./fa.js":156,"./fi":157,"./fi.js":157,"./fo":158,"./fo.js":158,"./fr":159,"./fr-ca":160,"./fr-ca.js":160,"./fr-ch":161,"./fr-ch.js":161,"./fr.js":159,"./fy":162,"./fy.js":162,"./ga":163,"./ga.js":163,"./gd":164,"./gd.js":164,"./gl":165,"./gl.js":165,"./gom-latn":166,"./gom-latn.js":166,"./gu":167,"./gu.js":167,"./he":168,"./he.js":168,"./hi":169,"./hi.js":169,"./hr":170,"./hr.js":170,"./hu":171,"./hu.js":171,"./hy-am":172,"./hy-am.js":172,"./id":173,"./id.js":173,"./is":174,"./is.js":174,"./it":175,"./it-ch":176,"./it-ch.js":176,"./it.js":175,"./ja":177,"./ja.js":177,"./jv":178,"./jv.js":178,"./ka":179,"./ka.js":179,"./kk":180,"./kk.js":180,"./km":181,"./km.js":181,"./kn":182,"./kn.js":182,"./ko":183,"./ko.js":183,"./ku":184,"./ku.js":184,"./ky":185,"./ky.js":185,"./lb":186,"./lb.js":186,"./lo":187,"./lo.js":187,"./lt":188,"./lt.js":188,"./lv":189,"./lv.js":189,"./me":190,"./me.js":190,"./mi":191,"./mi.js":191,"./mk":192,"./mk.js":192,"./ml":193,"./ml.js":193,"./mn":194,"./mn.js":194,"./mr":195,"./mr.js":195,"./ms":196,"./ms-my":197,"./ms-my.js":197,"./ms.js":196,"./mt":198,"./mt.js":198,"./my":199,"./my.js":199,"./nb":200,"./nb.js":200,"./ne":201,"./ne.js":201,"./nl":202,"./nl-be":203,"./nl-be.js":203,"./nl.js":202,"./nn":204,"./nn.js":204,"./pa-in":205,"./pa-in.js":205,"./pl":206,"./pl.js":206,"./pt":207,"./pt-br":208,"./pt-br.js":208,"./pt.js":207,"./ro":209,"./ro.js":209,"./ru":210,"./ru.js":210,"./sd":211,"./sd.js":211,"./se":212,"./se.js":212,"./si":213,"./si.js":213,"./sk":214,"./sk.js":214,"./sl":215,"./sl.js":215,"./sq":216,"./sq.js":216,"./sr":217,"./sr-cyrl":218,"./sr-cyrl.js":218,"./sr.js":217,"./ss":219,"./ss.js":219,"./sv":220,"./sv.js":220,"./sw":221,"./sw.js":221,"./ta":222,"./ta.js":222,"./te":223,"./te.js":223,"./tet":224,"./tet.js":224,"./tg":225,"./tg.js":225,"./th":226,"./th.js":226,"./tl-ph":227,"./tl-ph.js":227,"./tlh":228,"./tlh.js":228,"./tr":229,"./tr.js":229,"./tzl":230,"./tzl.js":230,"./tzm":231,"./tzm-latn":232,"./tzm-latn.js":232,"./tzm.js":231,"./ug-cn":233,"./ug-cn.js":233,"./uk":234,"./uk.js":234,"./ur":235,"./ur.js":235,"./uz":236,"./uz-latn":237,"./uz-latn.js":237,"./uz.js":236,"./vi":238,"./vi.js":238,"./x-pseudo":239,"./x-pseudo.js":239,"./yo":240,"./yo.js":240,"./zh-cn":241,"./zh-cn.js":241,"./zh-hk":242,"./zh-hk.js":242,"./zh-tw":243,"./zh-tw.js":243};function r(e){var t=s(e);return a(t)}function s(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=346},421:function(e,t,a){"use strict";a.r(t);a(279);var n=a(0),r=a.n(n),s=a(10),i=a(92),c=a(259),l=a(94),o=a(459),m=(a(3),a(455)),u=a(450),d=a(461),j=a(463),E=a(458),p=a(263),f=a.n(p),h=a(457),g=a(454),v=a(61),y=a(15),b=a(451),w=a(452),D=a(453),x=a(260),O=a.n(x),I=a(464),k=a(462),N=a(58),_=(a(343),a(2)),S=a.n(_);var R=r.a.createElement("span",{className:"dot"}),z=r.a.createElement(u.a,null);function T(e){var t=e.entries,a=void 0===t?[]:t,n=e.handleDismiss,s=e.handleViewDetails,i=e.selectedEntryId;return r.a.createElement(b.a,{"data-testid":"reddit-entries-list"},r.a.createElement(I.a,null,a.map(function(e){return r.a.createElement(k.a,{key:e.id,timeout:500,classNames:"item"},r.a.createElement("div",null,r.a.createElement(w.a,{button:!0,onClick:function(){return s(e)},selected:e.id===i},r.a.createElement(D.a,{container:!0,direction:"row",spacing:1},r.a.createElement(D.a,{container:!0,direction:"row",item:!0},r.a.createElement(D.a,{container:!0,alignItems:"center",justify:"center",item:!0,xs:1},!e.visited&&R),r.a.createElement(D.a,{item:!0},r.a.createElement(g.a,null,r.a.createElement("strong",null,e.author)," ",function(e){return S.a.utc(S.a.unix(e)).local().fromNow()}(e.created_utc)))),r.a.createElement(D.a,{container:!0,wrap:"nowrap",direction:"row",item:!0,spacing:1},r.a.createElement(D.a,{item:!0,xs:3},r.a.createElement(O.a,{src:e.thumbnail})),r.a.createElement(D.a,{item:!0,xs:9},r.a.createElement(g.a,null,e.title))),r.a.createElement(D.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-start",item:!0},r.a.createElement(D.a,{item:!0,xs:4},r.a.createElement(N.a,{variant:"outlined",onClick:function(t){return function(e,t){e.stopPropagation(),n(t)}(t,e.id)}},"Dismiss")),r.a.createElement(D.a,{item:!0,xs:4},r.a.createElement(g.a,null,function(e){return e&&0!==e?e+" comment"+(1===e?"":"s"):"no comments"}(e.num_comments)))))),z))})))}var A=a(20),L=a(13),C=a.n(L),P=r.a.createElement(w.a,null,r.a.createElement(D.a,{container:!0,direction:"row",spacing:1},r.a.createElement(D.a,{container:!0,direction:"row",item:!0},r.a.createElement(D.a,{container:!0,alignItems:"center",justify:"center",item:!0,xs:1},r.a.createElement(C.a,{circle:!0,height:".75em",width:".75em"})),r.a.createElement(D.a,{xs:4,item:!0},r.a.createElement(C.a,{height:20}))),r.a.createElement(D.a,{container:!0,wrap:"nowrap",direction:"row",item:!0,spacing:1},r.a.createElement(D.a,{item:!0,xs:3},r.a.createElement(C.a,{height:60,width:60})),r.a.createElement(D.a,{item:!0,xs:9},r.a.createElement(C.a,{height:20}),r.a.createElement(C.a,{height:20}),r.a.createElement(C.a,{height:20}))),r.a.createElement(D.a,{container:!0,direction:"row",alignItems:"center",justify:"flex-start",spacing:4,item:!0},r.a.createElement(D.a,{item:!0,xs:4},r.a.createElement(C.a,{height:20})),r.a.createElement(D.a,{item:!0,xs:4},r.a.createElement(C.a,{height:20}))))),G=r.a.createElement(u.a,null);var U=a(59),B=a.n(U),M=a(262),q=a.n(M),F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},H=15,V=Object(v.a)(function(e){var t,a;return{root:{display:"flex"},drawer:(t={},t[e.breakpoints.up("sm")]={width:350,flexShrink:0},t),appBar:{marginLeft:350,zIndex:e.zIndex.drawer+1},menuButton:(a={marginRight:e.spacing(2)},a[e.breakpoints.up("sm")]={display:"none"},a),toolbar:e.mixins.toolbar,drawerPaper:{width:350},content:{flexGrow:1,overflow:"auto"},footerButton:{textAlign:"center",borderRadius:0,minHeight:"56px","@media (min-width:0px) and (orientation: landscape)":{minHeight:"48px"},"@media (min-width:600px)":{minHeight:"64px"}},container:{overflow:"hidden",display:"flex",flexGrow:1,flexDirection:"column"}}}),J=r.a.createElement(u.a,null),X=r.a.createElement(u.a,null),Y=r.a.createElement(function(e){return r.a.createElement(b.a,{"data-testid":"list-loading-container"},[1,2,3,4,5,6,7,8].map(function(e){return r.a.createElement("div",{key:e},P,G)}))},null),W=r.a.createElement(C.a,{height:30,width:30}),$=r.a.createElement(f.a,null),K=r.a.createElement(g.a,{variant:"h6",noWrap:!0},"Reddit Demo");var Q=Object(A.f)(function(e){var t=Object(n.useState)([]),a=t[0],s=t[1],i=Object(n.useState)(0),c=i[0],l=i[1],o=e.container,u=e.entries,p=e.updateEntry,f=e.history,g=e.loadingStatus,v=V(),b=Object(y.a)(),w=Object(n.useState)(!1),D=w[0],x=w[1],O=Object(A.e)(e.history.location.pathname,{path:"/detail/:entryId",exact:!0,strict:!1}),I=B()(O,"params.entryId");Object(n.useEffect)(function(){s(e.entries)},[u]);var k=function(){x(!D)},_=r.a.createElement("div",{className:v.container},r.a.createElement("div",{className:v.toolbar}),J,r.a.createElement("div",{className:v.content},r.a.createElement(T,{entries:a.slice(c,c+H),handleDismiss:function(e){s(a.filter(function(t){return t.id!==e}))},handleViewDetails:function(e){p(F({},e,{visited:!0})),f.push("/detail/"+e.id)},selectedEntryId:I})),r.a.createElement("div",null,r.a.createElement(q.a,{limit:H,offset:c,total:a.length,onClick:function(e,t,a){l(t)}})),r.a.createElement(N.a,{className:v.footerButton,disabled:0===a.length,onClick:function(){s([]),f.push("/")}},"Dismiss All")),S=r.a.createElement("div",{className:v.container},r.a.createElement("div",{className:v.toolbar}),X,r.a.createElement("div",{className:v.content},Y),W);return r.a.createElement("div",{className:v.root},r.a.createElement(m.a,{position:"fixed",className:v.appBar},r.a.createElement(h.a,null,r.a.createElement(E.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:k,className:v.menuButton},$),K)),r.a.createElement("nav",{className:v.drawer,"aria-label":"mailbox folders"},r.a.createElement(j.a,{smUp:!0},r.a.createElement(d.a,{container:o,variant:"temporary",anchor:"rtl"===b.direction?"right":"left",open:D,onClose:k,classes:{paper:v.drawerPaper},ModalProps:{keepMounted:!0}},"LOADING"===g?S:_)),r.a.createElement(j.a,{xsDown:!0},r.a.createElement(d.a,{classes:{paper:v.drawerPaper},variant:"permanent",open:!0},"LOADING"===g?S:_))))}),Z=a(64),ee=function(e){return e.redditEntry.status},te=a(93),ae=a.n(te);function ne(e){var t=e.entry,a=void 0===t?{}:t;return r.a.createElement(D.a,{container:!0,direction:"row",spacing:8,padding:8},r.a.createElement(D.a,{item:!0},r.a.createElement(g.a,{variant:"h6"},a.author)),r.a.createElement(D.a,{container:!0,alignItems:"center",justify:"center",item:!0},r.a.createElement("div",null,r.a.createElement("a",{href:a.thumbnail,download:/[^/]*$/.exec(a.thumbnail)[0]},r.a.createElement(ae.a,{src:a.thumbnail,style:{padding:"0"},imageStyle:{position:"relative"}})))),r.a.createElement(D.a,{item:!0},r.a.createElement(g.a,null,a.title)))}var re=r.a.createElement(D.a,{container:!0,direction:"row",spacing:8,padding:8},r.a.createElement(D.a,{item:!0,xs:3},r.a.createElement(C.a,{height:20})),r.a.createElement(D.a,{container:!0,alignItems:"center",justify:"center",item:!0},r.a.createElement("div",null,r.a.createElement(C.a,{height:80,width:80}))),r.a.createElement(D.a,{xs:5,item:!0},r.a.createElement(C.a,{height:20})));var se=r.a.createElement(function(e){return re},null);var ie=Object(Z.b)(function(e,t){return{entry:function(e,t){return e.redditEntry.data.find(function(e){return e.id===t})}(e,t.match.params.entryId),loadingStatus:ee(e)}})(Object(A.f)(function(e){var t=e.entry,a=e.loadingStatus,s=e.match.params.entryId;return Object(n.useEffect)(function(){t||"LOADED"!==a||e.history.push("/404")},[s,a]),t?r.a.createElement(ne,e):se})),ce=Object(v.a)(function(e){return{root:{flexGrow:1,zIndex:1,overflow:"hidden",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar,menuButton:{marginLeft:-12,marginRight:20}}}),le=r.a.createElement(o.a,null),oe=r.a.createElement("div",null),me=r.a.createElement(A.a,{exact:!0,path:"/detail/:entryId",component:ie}),ue=r.a.createElement("div",null,"Not Found");function de(e){var t=ce();return r.a.createElement(l.a,null,r.a.createElement("div",{className:t.root},le,r.a.createElement(Q,e),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(A.c,null,r.a.createElement(A.a,{exact:!0,path:"/",render:function(e){return oe}}),me,r.a.createElement(A.a,{render:function(e){return ue}})))))}var je=Object(Z.b)(function(e,t){return{entries:function(e){return e.redditEntry.data.slice(0,50)}(e),loadingStatus:ee(e)}},{loadTopEntries:function(e,t,a,n,r){return{type:"REDDIT_API",REDDIT_API:{endpoint:"top.json?count="+t+"&limit="+a,action_type:"LOAD_REDDIT_ENTRIES",onSuccess:n,onFailure:r}}},updateEntry:function(e){return{type:"UPDATE_REDDIT_ENTRY_SUCCESS",payload:e}}})(function(e){return Object(n.useEffect)(function(){e.loadTopEntries(0,0,50)},[]),r.a.createElement(de,e)}),Ee=a(62),pe=a(266),fe=a.n(pe),he=a(48),ge=a.n(he),ve=fe.a.create({baseURL:"https://www.reddit.com",headers:{Accept:"application/json","Content-Type":"application/json"}}),ye=function(e){return function(t){return function(a){var n=a.REDDIT_API;if(void 0===n)return t(a);var r=n.endpoint,s=n.method,i=void 0===s?"GET":s,c=n.payload,l=(n.headers,n.action_type),o=n.silent,m=void 0===o?"GET"===i:o,u=n.successMessage,d=n.errorMessage,j=n.onSuccess,E=n.onError;if("string"!=typeof r)throw new Error("Specify a string endpoint URL.");if("string"!=typeof l)throw new Error("Specify a string action_type.");var p=function(e){var t=Object.assign({},a,e);return delete t.REDDIT_API,t.meta=Object.assign({},t.meta,{request:a}),Object.assign(t,e)},f=l+"_PENDING",h=l+"_SUCCESS",g=l+"_FAILURE";return e.dispatch(p({type:f,silent:m})),function(e,t,a){var n="/"+e;return ve.request({url:n,method:t,data:a}).then(function(e){return e.data})}(r,i,c).then(function(t){if(ge()(j)){var a=j(t);a&&e.dispatch(a)}return e.dispatch(p({payload:t,type:h,message:u,silent:m}))},function(t){if(ge()(E)){var a=E(t);a&&e.dispatch(a)}return e.dispatch(p({type:g,message:d,error:t}))})}}},be=a(267),we=a.n(be),De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},xe=Object(Ee.c)({redditEntry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"NOT_LOADED",data:[]},t=arguments[1];switch(t.type){case"LOAD_REDDIT_ENTRIES_PENDING":return De({},e,{status:"LOADING"});case"LOAD_REDDIT_ENTRIES_ERROR":return De({},e,{status:"ERROR_LOADING"});case"LOAD_REDDIT_ENTRIES_SUCCESS":var a={status:"LOADED",data:[]};return we()(B()(t.payload,"data.children"))>0&&(a.data=t.payload.data.children.map(function(e){return e.data})),a;case"UPDATE_REDDIT_ENTRY_SUCCESS":return{status:e.status,data:e.data.map(function(e){return e.id===t.payload.id?t.payload:e})};default:return e}}}),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ee.d,Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(Ee.e)(xe,Oe(Ee.a.apply(void 0,[ye].concat(e))))}(),ke=Object(i.a)({typography:{useNextVariants:!0,fontSize:12,fontFamily:["Roboto",'"Helvetica Neue"',"sans-serif"].join(",")}});Object(s.render)(r.a.createElement(function(e){return r.a.createElement(Z.a,{store:Ie},r.a.createElement("div",{className:"App"},r.a.createElement(c.a,{theme:ke},r.a.createElement(je,e))))},null),document.querySelector("#app"))}},[[273,2,1]]]);
//# sourceMappingURL=app.5d03f340.js.map